{% extends "registration/accounts_base.html" %}

{% load static %}



{% block content %}

<body>

    <link rel="stylesheet" href="{% static 'accounts/css/accounts.css' %}">

    {% if validlink %}

        <div class = 'new_pass_box'>
            <h4>Definição da Nova Senha</h4>
            <hr>
                <form action="" method="post">
                {% csrf_token %}
                    <table>
                        <tr>
                            <td>
                                <label for="id_new_password1">Nova Senha:</label></td>
                            <td>{{ form.new_password1 }}</td>
                        </tr>
                        <tr>
                            <td>
                                <label for="id_new_password2">Confirme a Senha:</label></td>
                            <td>{{ form.new_password2 }}</td>
                        </tr>
                    </table>

                    <td><button class = 'btn btn-primary' type="submit" style = "margin:1rem;"> Mude a Senha</button>

                    <div style="margin:0.3rem">
                        {% if form.new_password2.errors %}
                        {% if form.new_password1.value != form.new_password2.value %}
                            <div class="alert alert-danger alert-dismissible fade show" role="alert">
                                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                                    Senhas não correspondentes.
                            </div>
                        {% else %}
                            <div class="alert alert-danger alert-dismissible fade show" role="alert">
                                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                                    Sua senha não deve ser muito comum e conter, ao menos, 8 caracters, dentre eles letras e números.
                            </div>
                        {% endif %}

                        {% endif %}
                    </div>
                

                </form>
        </div>


    {% else %}
            <h1>Password reset failed</h1>
            <p>The password reset link was invalid, possibly because it has already been used. Please request a new password reset.</p>
      
    {% endif %}
</body>

{% endblock %}